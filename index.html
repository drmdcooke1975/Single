<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Passage Viewer</title>
</head>
<body>
    <h1>Passage of Play  7</h1>
    
    <p id="passage">Loading passage...</p>
    <p id="matchResults">Loading match results...</p>
    <p id="matchScore">Loading score...</p>



   <button id="startGameButton">Start Game</button>
    <p id="gameStatus"></p>

    <script>
        document.getElementById("startGameButton").addEventListener("click", function() {
            fetch("https://script.google.com/macros/s/AKfycbwtkhQ1xc9KtNePfpPSa-suwjPPqFJUbbNkPBhjda57IC5-x37OCqjbkV3m8mNAjz7yUw/exec")
            .then(response => response.json())
            .then(data => {
                console.log("Game Started:", data);
                document.getElementById("gameStatus").innerText = data.status;
            })
            .catch(error => console.error("Error:", error));
        });
    </script>


    


    
    <script>
document.addEventListener("DOMContentLoaded", function () {
    fetch("https://script.google.com/macros/s/AKfycbwtkhQ1xc9KtNePfpPSa-suwjPPqFJUbbNkPBhjda57IC5-x37OCqjbkV3m8mNAjz7yUw/exec") // ✅ Updated to correct Web App URL
        .then(response => response.json())
        .then(data => {
            console.log("Fetched Data:", data); // ✅ Logs full JSON response

            // ✅ Ensure passage data updates dynamically
            document.getElementById("matchResults").innerText = `Possession: ${data.possessionWinner}`;
            document.getElementById("matchScore").innerText = `Score: ${data.team1Score} - ${data.team2Score}`;
            document.getElementById("passage").innerText = `${data.passageOfPlay.text} - ${data.passageOfPlay.eventText}`;
        })
        .catch(error => {
            console.error("API Error:", error);
            document.getElementById("matchResults").innerText = "Error fetching match results.";
            document.getElementById("matchScore").innerText = "Error fetching score.";
            document.getElementById("passage").innerText = "Error fetching passage.";
        });
});
    </script>

</body>
</html>
